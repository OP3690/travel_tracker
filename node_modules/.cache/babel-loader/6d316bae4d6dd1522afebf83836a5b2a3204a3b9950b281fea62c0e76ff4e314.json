{"ast":null,"code":"var _jsxFileName = \"/Users/omprakashutaha/Desktop/Map2/src/components/TravelJournal.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport API from '../api/api';\nimport Layout from './Layout';\nimport './TravelJournal.css';\nimport { FiPlus, FiEdit2, FiTrash2, FiStar, FiCheckCircle, FiFlag } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction getAuthHeader() {\n  const token = localStorage.getItem('token');\n  return token ? {\n    Authorization: token\n  } : {};\n}\nconst AddEditModal = ({\n  open,\n  onClose,\n  onSave,\n  initialValue,\n  title,\n  stateName\n}) => {\n  _s();\n  const [value, setValue] = useState(initialValue || '');\n  useEffect(() => {\n    setValue(initialValue || '');\n  }, [initialValue]);\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tj-modal-backdrop\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tj-modal\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: 8\n        },\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-state-name\",\n        style: {\n          textAlign: 'center',\n          fontWeight: 600,\n          marginBottom: 10,\n          fontSize: '1.1em',\n          color: '#4f8cff'\n        },\n        children: stateName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"tj-modal-input\",\n        value: value,\n        onChange: e => setValue(e.target.value),\n        autoFocus: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tj-modal-actions\",\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          gap: 12,\n          marginTop: 10\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"tj-btn tj-btn-cancel\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 28,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            if (value.trim()) onSave(value.trim());\n          },\n          className: \"tj-btn tj-btn-save\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 5\n  }, this);\n};\n_s(AddEditModal, \"YFG33VBfQLr+DBbD0tCJ6eBD1so=\");\n_c = AddEditModal;\nconst ConfirmModal = ({\n  open,\n  onClose,\n  onConfirm,\n  stateName,\n  destination\n}) => {\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"tj-modal-backdrop\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tj-modal\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        style: {\n          textAlign: 'center',\n          marginBottom: 8\n        },\n        children: \"Delete Destination\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-state-name\",\n        style: {\n          textAlign: 'center',\n          fontWeight: 600,\n          marginBottom: 10,\n          fontSize: '1.1em',\n          color: '#4f8cff'\n        },\n        children: stateName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-message\",\n        style: {\n          textAlign: 'center',\n          marginBottom: 16\n        },\n        children: [\"Are you sure you want to delete \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: destination\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 43\n        }, this), \" from \", /*#__PURE__*/_jsxDEV(\"b\", {\n          children: stateName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 69\n        }, this), \"?\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tj-modal-actions\",\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          gap: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"tj-btn tj-btn-cancel\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onConfirm,\n          className: \"tj-btn tj-btn-delete\",\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n};\n_c2 = ConfirmModal;\nconst TravelJournal = () => {\n  _s2();\n  const [destinations, setDestinations] = useState([]);\n  const [visited, setVisited] = useState([]); // [{state, destination}]\n  const [expanded, setExpanded] = useState({}); // { [stateId]: true/false }\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filter, setFilter] = useState('all');\n  const [modal, setModal] = useState({\n    open: false\n  });\n  const [confirm, setConfirm] = useState({\n    open: false\n  });\n  const [loading, setLoading] = useState(true);\n  const [globalAddModal, setGlobalAddModal] = useState(false);\n  const [selectedStateId, setSelectedStateId] = useState('');\n  const [newDestName, setNewDestName] = useState('');\n  const [toast, setToast] = useState('');\n  const toastTimeout = useRef();\n  const [alreadyVisited, setAlreadyVisited] = useState(false);\n  useEffect(() => {\n    async function fetchAll() {\n      setLoading(true);\n      try {\n        const [dRes, vRes] = await Promise.all([API.get('/api/destinations', {\n          headers: getAuthHeader()\n        }), API.get('/api/user/visited-destinations', {\n          headers: getAuthHeader()\n        })]);\n        setDestinations(dRes.data);\n        setVisited(vRes.data.visitedDestinations || []);\n      } catch (err) {\n        setDestinations([]);\n        setVisited([]);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchAll();\n  }, []);\n  const isVisited = (state, dest) => visited.some(v => v.state === state && v.destination === dest);\n  const handleToggleVisited = async (state, dest) => {\n    try {\n      await API.post('/api/user/visited-destinations', {\n        state,\n        destination: dest\n      }, {\n        headers: getAuthHeader()\n      });\n      setVisited(prev => isVisited(state, dest) ? prev.filter(v => !(v.state === state && v.destination === dest)) : [...prev, {\n        state,\n        destination: dest\n      }]);\n    } catch (err) {\n      alert('Failed to update visited status');\n    }\n  };\n\n  // Add/Edit/Delete destination\n  const handleAddDestination = async (stateId, newDest, stateName) => {\n    try {\n      await API.post(`/api/destinations/${stateId}/destination`, {\n        destination: newDest\n      }, {\n        headers: getAuthHeader()\n      });\n      setDestinations(ds => ds.map(d => d._id === stateId ? {\n        ...d,\n        destinations: [...d.destinations, newDest]\n      } : d));\n      if (alreadyVisited) {\n        await API.post('/api/user/visited-destinations', {\n          state: stateName,\n          destination: newDest\n        }, {\n          headers: getAuthHeader()\n        });\n        setVisited(prev => [...prev, {\n          state: stateName,\n          destination: newDest\n        }]);\n      }\n      setModal({\n        open: false\n      });\n      setAlreadyVisited(false);\n    } catch {\n      alert('Failed to add destination');\n    }\n  };\n  const handleEditDestination = async (stateId, oldName, newName, stateName) => {\n    try {\n      await API.put(`/api/destinations/${stateId}/destination`, {\n        oldName,\n        newName\n      }, {\n        headers: getAuthHeader()\n      });\n      setDestinations(ds => ds.map(d => d._id === stateId ? {\n        ...d,\n        destinations: d.destinations.map(n => n === oldName ? newName : n),\n        topDestinations: d.topDestinations.map(n => n === oldName ? newName : n)\n      } : d));\n      setModal({\n        open: false\n      });\n    } catch {\n      alert('Failed to edit destination');\n    }\n  };\n  const handleDeleteDestination = async (stateId, name, stateName) => {\n    setConfirm({\n      open: true,\n      stateId,\n      name,\n      stateName\n    });\n  };\n  const confirmDelete = async () => {\n    const {\n      stateId,\n      name\n    } = confirm;\n    try {\n      await API.delete(`/api/destinations/${stateId}/destination`, {\n        data: {\n          name\n        },\n        headers: getAuthHeader()\n      });\n      setDestinations(ds => ds.map(d => d._id === stateId ? {\n        ...d,\n        destinations: d.destinations.filter(n => n !== name),\n        topDestinations: d.topDestinations.filter(n => n !== name)\n      } : d));\n      setConfirm({\n        open: false\n      });\n    } catch {\n      alert('Failed to delete destination');\n    }\n  };\n\n  // Filtering\n  const filteredDestinations = destinations.filter(dest => {\n    const matchesSearch = dest.state.toLowerCase().includes(searchTerm.toLowerCase()) || dest.destinations.some(d => d.toLowerCase().includes(searchTerm.toLowerCase()));\n    const matchesFilter = filter === 'all' || filter === 'visited' && dest.destinations.some(d => isVisited(dest.state, d)) || filter === 'unvisited' && !dest.destinations.some(d => isVisited(dest.state, d));\n    return matchesSearch && matchesFilter;\n  });\n  const getProgress = () => {\n    const total = destinations.reduce((acc, d) => acc + d.destinations.length, 0);\n    const visitedCount = visited.length;\n    return total ? Math.round(visitedCount / total * 100) : 0;\n  };\n  const getVisitedStatesCount = () => {\n    // Count unique states/UTs with at least one visited destination\n    const visitedStates = new Set(visited.map(v => v.state));\n    return visitedStates.size;\n  };\n  const getTotalStatesCount = () => destinations.length;\n\n  // Expand/collapse logic\n  const toggleExpand = id => setExpanded(prev => ({\n    ...prev,\n    [id]: !prev[id]\n  }));\n\n  // Add/Edit/Delete destination\n  const handleGlobalAdd = async () => {\n    if (!selectedStateId || !newDestName.trim()) return;\n    const stateObj = destinations.find(d => d._id === selectedStateId);\n    try {\n      await API.post(`/api/destinations/${selectedStateId}/destination`, {\n        destination: newDestName.trim()\n      }, {\n        headers: getAuthHeader()\n      });\n      setDestinations(ds => ds.map(d => d._id === selectedStateId ? {\n        ...d,\n        destinations: [...d.destinations, newDestName.trim()]\n      } : d));\n      if (alreadyVisited) {\n        await API.post('/api/user/visited-destinations', {\n          state: stateObj.state,\n          destination: newDestName.trim()\n        }, {\n          headers: getAuthHeader()\n        });\n        setVisited(prev => [...prev, {\n          state: stateObj.state,\n          destination: newDestName.trim()\n        }]);\n      }\n      setGlobalAddModal(false);\n      setSelectedStateId('');\n      setNewDestName('');\n      setAlreadyVisited(false);\n      setToast('Destination Added Successfully');\n      clearTimeout(toastTimeout.current);\n      toastTimeout.current = setTimeout(() => setToast(''), 2500);\n    } catch {\n      setToast('Failed to add destination');\n      clearTimeout(toastTimeout.current);\n      toastTimeout.current = setTimeout(() => setToast(''), 2500);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"travel-journal\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"journal-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Travel Journal\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-bar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"progress-fill\",\n              style: {\n                width: `${getProgress()}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-details\",\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center',\n              marginTop: 4,\n              fontSize: '1.01em',\n              color: '#4f8cff',\n              fontWeight: 600\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [visited.length, \" / \", destinations.reduce((acc, d) => acc + d.destinations.length, 0), \" (\", getProgress(), \"%)\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: '#7a8ca3',\n                fontWeight: 500\n              },\n              children: [visited.length, \" destinations visited across \", getVisitedStatesCount(), \" State/UT\", getVisitedStatesCount() !== 1 ? 's' : '']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          margin: '2rem',\n          color: '#888'\n        },\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"destinations-grid\",\n        children: filteredDestinations.map(dest => {\n          const visitedTop = dest.topDestinations.filter(place => isVisited(dest.state, place)).length;\n          const visitedAll = dest.destinations.filter(place => isVisited(dest.state, place)).length;\n          const isOpen = expanded[dest._id];\n          const allVisited = dest.destinations.length > 0 && visitedAll === dest.destinations.length;\n          const partiallyVisited = visitedAll > 0 && !allVisited;\n          const showFlag = visitedAll > 0;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `destination-card${isOpen ? ' expanded' : ''}${allVisited ? ' all-visited' : ''}${partiallyVisited ? ' partially-visited' : ''}`,\n            onClick: () => toggleExpand(dest._id),\n            style: {\n              cursor: 'pointer',\n              position: 'relative'\n            },\n            children: [showFlag && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"visited-flag-icon\",\n              title: \"Visited at least one destination\",\n              children: /*#__PURE__*/_jsxDEV(FiFlag, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-header\",\n              style: {\n                flexDirection: 'column',\n                alignItems: 'center',\n                textAlign: 'center',\n                gap: 4,\n                position: 'relative'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"state-title\",\n                style: {\n                  fontWeight: 700,\n                  fontSize: '1.13em',\n                  color: '#1a2636',\n                  marginBottom: 2\n                },\n                children: dest.state\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"state-type\",\n                style: {\n                  fontSize: '0.93em',\n                  color: '#7a8ca3',\n                  marginBottom: 6\n                },\n                children: dest.type === 'UT' ? 'Union Territory' : 'State'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-insights\",\n                style: {\n                  display: 'flex',\n                  gap: 18,\n                  justifyContent: 'center',\n                  alignItems: 'center',\n                  margin: '0.2em 0 0.1em 0'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  title: \"Top 3 visited\",\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 4,\n                    color: '#f7b731',\n                    fontWeight: 600\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FiStar, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 133\n                  }, this), \" \", visitedTop, \" / \", dest.topDestinations.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  title: \"All visited\",\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 4,\n                    color: '#2ecc71',\n                    fontWeight: 600\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(FiCheckCircle, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 255,\n                    columnNumber: 131\n                  }, this), \" \", visitedAll, \" / \", dest.destinations.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  title: \"Total destinations\",\n                  style: {\n                    color: '#4f8cff',\n                    fontWeight: 500\n                  },\n                  children: [\"Total: \", dest.destinations.length]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 19\n            }, this), isOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"destinations-list\",\n              children: dest.destinations.map(place => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `destination-item ${dest.topDestinations.includes(place) ? 'top-destination' : ''} ${isVisited(dest.state, place) ? 'visited' : ''}`,\n                style: {\n                  background: isVisited(dest.state, place) ? '#e6ffe6' : '#fffbe6',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  padding: '0.7em 1em',\n                  margin: '0.3em 0',\n                  borderRadius: 8\n                },\n                onClick: e => {\n                  e.stopPropagation();\n                  handleToggleVisited(dest.state, place);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"destination-name\",\n                  style: {\n                    fontWeight: 500\n                  },\n                  children: place\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 268,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    alignItems: 'center',\n                    gap: 10\n                  },\n                  children: [dest.topDestinations.includes(place) && /*#__PURE__*/_jsxDEV(FiStar, {\n                    className: \"top-badge\",\n                    style: {\n                      color: '#f7b731'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 31\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"visit-status\",\n                    style: {\n                      color: isVisited(dest.state, place) ? '#2ecc71' : '#bbb',\n                      fontSize: '1.2em'\n                    },\n                    children: isVisited(dest.state, place) ? /*#__PURE__*/_jsxDEV(FiCheckCircle, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 63\n                    }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                      style: {\n                        fontSize: '1.1em'\n                      },\n                      children: \"\\u25CB\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 83\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tj-dest-actions\",\n                    style: {\n                      display: 'flex',\n                      gap: 8\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(FiEdit2, {\n                      className: \"tj-dest-edit\",\n                      title: \"Edit\",\n                      onClick: e => {\n                        e.stopPropagation();\n                        setModal({\n                          open: true,\n                          stateId: dest._id,\n                          type: 'edit',\n                          oldName: place,\n                          stateName: dest.state\n                        });\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 277,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(FiTrash2, {\n                      className: \"tj-dest-delete\",\n                      title: \"Delete\",\n                      onClick: e => {\n                        e.stopPropagation();\n                        handleDeleteDestination(dest._id, place, dest.state);\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 269,\n                  columnNumber: 27\n                }, this)]\n              }, place, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 21\n            }, this)]\n          }, dest._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"floating-add-btn\",\n        title: \"Add Destination\",\n        onClick: () => setGlobalAddModal(true),\n        children: /*#__PURE__*/_jsxDEV(FiPlus, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), globalAddModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tj-modal-backdrop\",\n        onClick: () => setGlobalAddModal(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tj-modal tj-modal-cool\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              alignItems: 'center',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                textAlign: 'center',\n                marginBottom: 0,\n                fontWeight: 800,\n                letterSpacing: '-1px'\n              },\n              children: \"Add Destination\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#7a8ca3',\n                fontSize: '1.01em',\n                marginBottom: 8\n              },\n              children: \"Add a new destination to any State or Union Territory\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"tj-modal-input tj-modal-select\",\n            value: selectedStateId,\n            onChange: e => setSelectedStateId(e.target.value),\n            style: {\n              marginBottom: 10,\n              marginTop: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select State/UT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), destinations.map(d => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: d._id,\n              children: [d.state, \" (\", d.type === 'UT' ? 'UT' : 'State', \")\"]\n            }, d._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              height: 1,\n              background: '#e3eafc',\n              width: '100%',\n              margin: '8px 0'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"tj-modal-input\",\n            placeholder: \"Destination name\",\n            value: newDestName,\n            onChange: e => setNewDestName(e.target.value),\n            autoFocus: true,\n            style: {\n              marginBottom: 8\n            },\n            disabled: !selectedStateId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tj-switch-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"tj-switch\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                id: \"alreadyVisited\",\n                checked: alreadyVisited,\n                onChange: e => setAlreadyVisited(e.target.checked)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tj-slider\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 334,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 332,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"alreadyVisited\",\n              className: \"tj-switch-label\",\n              children: \"Already Visited?\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"tj-modal-actions\",\n            style: {\n              display: 'flex',\n              justifyContent: 'center',\n              gap: 12,\n              marginTop: 10\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setGlobalAddModal(false),\n              className: \"tj-btn tj-btn-cancel\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleGlobalAdd,\n              className: \"tj-btn tj-btn-save\",\n              disabled: !selectedStateId || !newDestName.trim(),\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), toast && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"tj-toast\",\n        children: toast\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(AddEditModal, {\n        open: modal.open,\n        title: modal.type === 'add' ? 'Add Destination' : 'Edit Destination',\n        initialValue: modal.type === 'edit' ? modal.oldName : '',\n        stateName: modal.stateName,\n        onClose: () => setModal({\n          open: false\n        }),\n        onSave: val => {\n          if (modal.type === 'add') handleAddDestination(modal.stateId, val, modal.stateName);else if (modal.type === 'edit') handleEditDestination(modal.stateId, modal.oldName, val, modal.stateName);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ConfirmModal, {\n        open: confirm.open,\n        stateName: confirm.stateName,\n        destination: confirm.name,\n        onClose: () => setConfirm({\n          open: false\n        }),\n        onConfirm: confirmDelete\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 5\n  }, this);\n};\n_s2(TravelJournal, \"eQDI8z2G2RvhnEZaazTKL+iCp6I=\");\n_c3 = TravelJournal;\nexport default TravelJournal;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"AddEditModal\");\n$RefreshReg$(_c2, \"ConfirmModal\");\n$RefreshReg$(_c3, \"TravelJournal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","API","Layout","FiPlus","FiEdit2","FiTrash2","FiStar","FiCheckCircle","FiFlag","jsxDEV","_jsxDEV","getAuthHeader","token","localStorage","getItem","Authorization","AddEditModal","open","onClose","onSave","initialValue","title","stateName","_s","value","setValue","className","onClick","children","e","stopPropagation","style","textAlign","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","fontWeight","fontSize","color","onChange","target","autoFocus","display","justifyContent","gap","marginTop","trim","_c","ConfirmModal","onConfirm","destination","_c2","TravelJournal","_s2","destinations","setDestinations","visited","setVisited","expanded","setExpanded","searchTerm","setSearchTerm","filter","setFilter","modal","setModal","confirm","setConfirm","loading","setLoading","globalAddModal","setGlobalAddModal","selectedStateId","setSelectedStateId","newDestName","setNewDestName","toast","setToast","toastTimeout","alreadyVisited","setAlreadyVisited","fetchAll","dRes","vRes","Promise","all","get","headers","data","visitedDestinations","err","isVisited","state","dest","some","v","handleToggleVisited","post","prev","alert","handleAddDestination","stateId","newDest","ds","map","d","_id","handleEditDestination","oldName","newName","put","n","topDestinations","handleDeleteDestination","name","confirmDelete","delete","filteredDestinations","matchesSearch","toLowerCase","includes","matchesFilter","getProgress","total","reduce","acc","length","visitedCount","Math","round","getVisitedStatesCount","visitedStates","Set","size","getTotalStatesCount","toggleExpand","id","handleGlobalAdd","stateObj","find","clearTimeout","current","setTimeout","width","alignItems","margin","visitedTop","place","visitedAll","isOpen","allVisited","partiallyVisited","showFlag","cursor","position","flexDirection","type","background","padding","borderRadius","letterSpacing","height","placeholder","disabled","checked","htmlFor","val","_c3","$RefreshReg$"],"sources":["/Users/omprakashutaha/Desktop/Map2/src/components/TravelJournal.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport API from '../api/api';\nimport Layout from './Layout';\nimport './TravelJournal.css';\nimport { FiPlus, FiEdit2, FiTrash2, FiStar, FiCheckCircle, FiFlag } from 'react-icons/fi';\n\nfunction getAuthHeader() {\n  const token = localStorage.getItem('token');\n  return token ? { Authorization: token } : {};\n}\n\nconst AddEditModal = ({ open, onClose, onSave, initialValue, title, stateName }) => {\n  const [value, setValue] = useState(initialValue || '');\n  useEffect(() => { setValue(initialValue || ''); }, [initialValue]);\n  if (!open) return null;\n  return (\n    <div className=\"tj-modal-backdrop\" onClick={onClose}>\n      <div className=\"tj-modal\" onClick={e => e.stopPropagation()}>\n        <h3 style={{textAlign:'center',marginBottom:8}}>{title}</h3>\n        <div className=\"modal-state-name\" style={{textAlign:'center',fontWeight:600,marginBottom:10,fontSize:'1.1em',color:'#4f8cff'}}>{stateName}</div>\n        <input\n          className=\"tj-modal-input\"\n          value={value}\n          onChange={e => setValue(e.target.value)}\n          autoFocus\n        />\n        <div className=\"tj-modal-actions\" style={{display:'flex',justifyContent:'center',gap:12,marginTop:10}}>\n          <button onClick={onClose} className=\"tj-btn tj-btn-cancel\">Cancel</button>\n          <button onClick={() => { if (value.trim()) onSave(value.trim()); }} className=\"tj-btn tj-btn-save\">Save</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ConfirmModal = ({ open, onClose, onConfirm, stateName, destination }) => {\n  if (!open) return null;\n  return (\n    <div className=\"tj-modal-backdrop\" onClick={onClose}>\n      <div className=\"tj-modal\" onClick={e => e.stopPropagation()}>\n        <h3 style={{textAlign:'center',marginBottom:8}}>Delete Destination</h3>\n        <div className=\"modal-state-name\" style={{textAlign:'center',fontWeight:600,marginBottom:10,fontSize:'1.1em',color:'#4f8cff'}}>{stateName}</div>\n        <div className=\"modal-message\" style={{textAlign:'center',marginBottom:16}}>\n          Are you sure you want to delete <b>{destination}</b> from <b>{stateName}</b>?\n        </div>\n        <div className=\"tj-modal-actions\" style={{display:'flex',justifyContent:'center',gap:12}}>\n          <button onClick={onClose} className=\"tj-btn tj-btn-cancel\">Cancel</button>\n          <button onClick={onConfirm} className=\"tj-btn tj-btn-delete\">Delete</button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst TravelJournal = () => {\n  const [destinations, setDestinations] = useState([]);\n  const [visited, setVisited] = useState([]); // [{state, destination}]\n  const [expanded, setExpanded] = useState({}); // { [stateId]: true/false }\n  const [searchTerm, setSearchTerm] = useState('');\n  const [filter, setFilter] = useState('all');\n  const [modal, setModal] = useState({ open: false });\n  const [confirm, setConfirm] = useState({ open: false });\n  const [loading, setLoading] = useState(true);\n  const [globalAddModal, setGlobalAddModal] = useState(false);\n  const [selectedStateId, setSelectedStateId] = useState('');\n  const [newDestName, setNewDestName] = useState('');\n  const [toast, setToast] = useState('');\n  const toastTimeout = useRef();\n  const [alreadyVisited, setAlreadyVisited] = useState(false);\n\n  useEffect(() => {\n    async function fetchAll() {\n      setLoading(true);\n      try {\n        const [dRes, vRes] = await Promise.all([\n          API.get('/api/destinations', { headers: getAuthHeader() }),\n          API.get('/api/user/visited-destinations', { headers: getAuthHeader() })\n        ]);\n        setDestinations(dRes.data);\n        setVisited(vRes.data.visitedDestinations || []);\n      } catch (err) {\n        setDestinations([]);\n        setVisited([]);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchAll();\n  }, []);\n\n  const isVisited = (state, dest) => visited.some(v => v.state === state && v.destination === dest);\n\n  const handleToggleVisited = async (state, dest) => {\n    try {\n      await API.post('/api/user/visited-destinations', { state, destination: dest }, { headers: getAuthHeader() });\n      setVisited(prev =>\n        isVisited(state, dest)\n          ? prev.filter(v => !(v.state === state && v.destination === dest))\n          : [...prev, { state, destination: dest }]\n      );\n    } catch (err) {\n      alert('Failed to update visited status');\n    }\n  };\n\n  // Add/Edit/Delete destination\n  const handleAddDestination = async (stateId, newDest, stateName) => {\n    try {\n      await API.post(`/api/destinations/${stateId}/destination`, { destination: newDest }, { headers: getAuthHeader() });\n      setDestinations(ds => ds.map(d => d._id === stateId ? { ...d, destinations: [...d.destinations, newDest] } : d));\n      if (alreadyVisited) {\n        await API.post('/api/user/visited-destinations', { state: stateName, destination: newDest }, { headers: getAuthHeader() });\n        setVisited(prev => [...prev, { state: stateName, destination: newDest }]);\n      }\n      setModal({ open: false });\n      setAlreadyVisited(false);\n    } catch {\n      alert('Failed to add destination');\n    }\n  };\n  const handleEditDestination = async (stateId, oldName, newName, stateName) => {\n    try {\n      await API.put(`/api/destinations/${stateId}/destination`, { oldName, newName }, { headers: getAuthHeader() });\n      setDestinations(ds => ds.map(d =>\n        d._id === stateId\n          ? {\n              ...d,\n              destinations: d.destinations.map(n => n === oldName ? newName : n),\n              topDestinations: d.topDestinations.map(n => n === oldName ? newName : n)\n            }\n          : d\n      ));\n      setModal({ open: false });\n    } catch {\n      alert('Failed to edit destination');\n    }\n  };\n  const handleDeleteDestination = async (stateId, name, stateName) => {\n    setConfirm({ open: true, stateId, name, stateName });\n  };\n  const confirmDelete = async () => {\n    const { stateId, name } = confirm;\n    try {\n      await API.delete(`/api/destinations/${stateId}/destination`, { data: { name }, headers: getAuthHeader() });\n      setDestinations(ds => ds.map(d =>\n        d._id === stateId\n          ? {\n              ...d,\n              destinations: d.destinations.filter(n => n !== name),\n              topDestinations: d.topDestinations.filter(n => n !== name)\n            }\n          : d\n      ));\n      setConfirm({ open: false });\n    } catch {\n      alert('Failed to delete destination');\n    }\n  };\n\n  // Filtering\n  const filteredDestinations = destinations.filter(dest => {\n    const matchesSearch = dest.state.toLowerCase().includes(searchTerm.toLowerCase()) ||\n      dest.destinations.some(d => d.toLowerCase().includes(searchTerm.toLowerCase()));\n    const matchesFilter = filter === 'all' ||\n      (filter === 'visited' && dest.destinations.some(d => isVisited(dest.state, d))) ||\n      (filter === 'unvisited' && !dest.destinations.some(d => isVisited(dest.state, d)));\n    return matchesSearch && matchesFilter;\n  });\n\n  const getProgress = () => {\n    const total = destinations.reduce((acc, d) => acc + d.destinations.length, 0);\n    const visitedCount = visited.length;\n    return total ? Math.round((visitedCount / total) * 100) : 0;\n  };\n\n  const getVisitedStatesCount = () => {\n    // Count unique states/UTs with at least one visited destination\n    const visitedStates = new Set(visited.map(v => v.state));\n    return visitedStates.size;\n  };\n  const getTotalStatesCount = () => destinations.length;\n\n  // Expand/collapse logic\n  const toggleExpand = (id) => setExpanded(prev => ({ ...prev, [id]: !prev[id] }));\n\n  // Add/Edit/Delete destination\n  const handleGlobalAdd = async () => {\n    if (!selectedStateId || !newDestName.trim()) return;\n    const stateObj = destinations.find(d => d._id === selectedStateId);\n    try {\n      await API.post(`/api/destinations/${selectedStateId}/destination`, { destination: newDestName.trim() }, { headers: getAuthHeader() });\n      setDestinations(ds => ds.map(d => d._id === selectedStateId ? { ...d, destinations: [...d.destinations, newDestName.trim()] } : d));\n      if (alreadyVisited) {\n        await API.post('/api/user/visited-destinations', { state: stateObj.state, destination: newDestName.trim() }, { headers: getAuthHeader() });\n        setVisited(prev => [...prev, { state: stateObj.state, destination: newDestName.trim() }]);\n      }\n      setGlobalAddModal(false);\n      setSelectedStateId('');\n      setNewDestName('');\n      setAlreadyVisited(false);\n      setToast('Destination Added Successfully');\n      clearTimeout(toastTimeout.current);\n      toastTimeout.current = setTimeout(() => setToast(''), 2500);\n    } catch {\n      setToast('Failed to add destination');\n      clearTimeout(toastTimeout.current);\n      toastTimeout.current = setTimeout(() => setToast(''), 2500);\n    }\n  };\n\n  return (\n    <Layout>\n      <div className=\"travel-journal\">\n        <div className=\"journal-header\">\n          <h1>Travel Journal</h1>\n          <div className=\"progress-container\">\n            <div className=\"progress-bar\">\n              <div className=\"progress-fill\" style={{ width: `${getProgress()}%` }} />\n            </div>\n            <div className=\"progress-details\" style={{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:4,fontSize:'1.01em',color:'#4f8cff',fontWeight:600}}>\n              <span>{visited.length} / {destinations.reduce((acc, d) => acc + d.destinations.length, 0)} ({getProgress()}%)</span>\n              <span style={{color:'#7a8ca3',fontWeight:500}}>{visited.length} destinations visited across {getVisitedStatesCount()} State/UT{getVisitedStatesCount()!==1?'s':''}</span>\n            </div>\n          </div>\n        </div>\n        {/* Cards grid */}\n        {loading ? (\n          <div style={{ textAlign: 'center', margin: '2rem', color: '#888' }}>Loading...</div>\n        ) : (\n          <div className=\"destinations-grid\">\n            {filteredDestinations.map((dest) => {\n              const visitedTop = dest.topDestinations.filter(place => isVisited(dest.state, place)).length;\n              const visitedAll = dest.destinations.filter(place => isVisited(dest.state, place)).length;\n              const isOpen = expanded[dest._id];\n              const allVisited = dest.destinations.length > 0 && visitedAll === dest.destinations.length;\n              const partiallyVisited = visitedAll > 0 && !allVisited;\n              const showFlag = visitedAll > 0;\n              return (\n                <div\n                  key={dest._id}\n                  className={`destination-card${isOpen ? ' expanded' : ''}${allVisited ? ' all-visited' : ''}${partiallyVisited ? ' partially-visited' : ''}`}\n                  onClick={() => toggleExpand(dest._id)}\n                  style={{ cursor: 'pointer', position: 'relative' }}\n                >\n                  {showFlag && (\n                    <span className=\"visited-flag-icon\" title=\"Visited at least one destination\">\n                      <FiFlag />\n                    </span>\n                  )}\n                  <div className=\"card-header\" style={{flexDirection:'column',alignItems:'center',textAlign:'center',gap:4, position:'relative'}}>\n                    <div className=\"state-title\" style={{fontWeight:700,fontSize:'1.13em',color:'#1a2636',marginBottom:2}}>{dest.state}</div>\n                    <div className=\"state-type\" style={{fontSize:'0.93em',color:'#7a8ca3',marginBottom:6}}>{dest.type === 'UT' ? 'Union Territory' : 'State'}</div>\n                    <div className=\"card-insights\" style={{display:'flex',gap:18,justifyContent:'center',alignItems:'center',margin:'0.2em 0 0.1em 0'}}>\n                      <span title=\"Top 3 visited\" style={{display:'flex',alignItems:'center',gap:4,color:'#f7b731',fontWeight:600}}><FiStar /> {visitedTop} / {dest.topDestinations.length}</span>\n                      <span title=\"All visited\" style={{display:'flex',alignItems:'center',gap:4,color:'#2ecc71',fontWeight:600}}><FiCheckCircle /> {visitedAll} / {dest.destinations.length}</span>\n                      <span title=\"Total destinations\" style={{color:'#4f8cff',fontWeight:500}}>Total: {dest.destinations.length}</span>\n                    </div>\n                  </div>\n                  {isOpen && (\n                    <div className=\"destinations-list\">\n                      {dest.destinations.map((place) => (\n                        <div\n                          key={place}\n                          className={`destination-item ${dest.topDestinations.includes(place) ? 'top-destination' : ''} ${isVisited(dest.state, place) ? 'visited' : ''}`}\n                          style={{ background: isVisited(dest.state, place) ? '#e6ffe6' : '#fffbe6', display:'flex',alignItems:'center',justifyContent:'space-between',padding:'0.7em 1em',margin:'0.3em 0',borderRadius:8 }}\n                          onClick={e => { e.stopPropagation(); handleToggleVisited(dest.state, place); }}\n                        >\n                          <span className=\"destination-name\" style={{fontWeight:500}}>{place}</span>\n                          <div style={{display:'flex',alignItems:'center',gap:10}}>\n                            {dest.topDestinations.includes(place) && (\n                              <FiStar className=\"top-badge\" style={{color:'#f7b731'}} />\n                            )}\n                            <span className=\"visit-status\" style={{color:isVisited(dest.state, place)?'#2ecc71':'#bbb',fontSize:'1.2em'}}>\n                              {isVisited(dest.state, place) ? <FiCheckCircle /> : <span style={{fontSize:'1.1em'}}></span>}\n                            </span>\n                            <span className=\"tj-dest-actions\" style={{display:'flex',gap:8}}>\n                              <FiEdit2\n                                className=\"tj-dest-edit\"\n                                title=\"Edit\"\n                                onClick={e => { e.stopPropagation(); setModal({ open: true, stateId: dest._id, type: 'edit', oldName: place, stateName: dest.state }); }}\n                              />\n                              <FiTrash2\n                                className=\"tj-dest-delete\"\n                                title=\"Delete\"\n                                onClick={e => { e.stopPropagation(); handleDeleteDestination(dest._id, place, dest.state); }}\n                              />\n                            </span>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        )}\n        {/* Global Add Destination Floating Button */}\n        <button className=\"floating-add-btn\" title=\"Add Destination\" onClick={() => setGlobalAddModal(true)}>\n          <FiPlus />\n        </button>\n        {/* Global Add Modal */}\n        {globalAddModal && (\n          <div className=\"tj-modal-backdrop\" onClick={() => setGlobalAddModal(false)}>\n            <div className=\"tj-modal tj-modal-cool\" onClick={e => e.stopPropagation()}>\n              <div style={{display:'flex',flexDirection:'column',alignItems:'center',gap:8}}>\n                <h3 style={{textAlign:'center',marginBottom:0,fontWeight:800,letterSpacing:'-1px'}}>Add Destination</h3>\n                <div style={{color:'#7a8ca3',fontSize:'1.01em',marginBottom:8}}>Add a new destination to any State or Union Territory</div>\n              </div>\n              <select\n                className=\"tj-modal-input tj-modal-select\"\n                value={selectedStateId}\n                onChange={e => setSelectedStateId(e.target.value)}\n                style={{marginBottom:10,marginTop:8}}\n              >\n                <option value=\"\">Select State/UT</option>\n                {destinations.map(d => (\n                  <option key={d._id} value={d._id}>{d.state} ({d.type === 'UT' ? 'UT' : 'State'})</option>\n                ))}\n              </select>\n              <div style={{height:1,background:'#e3eafc',width:'100%',margin:'8px 0'}} />\n              <input\n                className=\"tj-modal-input\"\n                placeholder=\"Destination name\"\n                value={newDestName}\n                onChange={e => setNewDestName(e.target.value)}\n                autoFocus\n                style={{marginBottom:8}}\n                disabled={!selectedStateId}\n              />\n              <div className=\"tj-switch-container\">\n                <label className=\"tj-switch\">\n                  <input type=\"checkbox\" id=\"alreadyVisited\" checked={alreadyVisited} onChange={e => setAlreadyVisited(e.target.checked)} />\n                  <span className=\"tj-slider\"></span>\n                </label>\n                <label htmlFor=\"alreadyVisited\" className=\"tj-switch-label\">Already Visited?</label>\n              </div>\n              <div className=\"tj-modal-actions\" style={{display:'flex',justifyContent:'center',gap:12,marginTop:10}}>\n                <button onClick={() => setGlobalAddModal(false)} className=\"tj-btn tj-btn-cancel\">Cancel</button>\n                <button onClick={handleGlobalAdd} className=\"tj-btn tj-btn-save\" disabled={!selectedStateId || !newDestName.trim()}>Add</button>\n              </div>\n            </div>\n          </div>\n        )}\n        {/* Toast Message */}\n        {toast && <div className=\"tj-toast\">{toast}</div>}\n        {/* Add/Edit Modal (for per-state edit) */}\n        <AddEditModal\n          open={modal.open}\n          title={modal.type === 'add' ? 'Add Destination' : 'Edit Destination'}\n          initialValue={modal.type === 'edit' ? modal.oldName : ''}\n          stateName={modal.stateName}\n          onClose={() => setModal({ open: false })}\n          onSave={val => {\n            if (modal.type === 'add') handleAddDestination(modal.stateId, val, modal.stateName);\n            else if (modal.type === 'edit') handleEditDestination(modal.stateId, modal.oldName, val, modal.stateName);\n          }}\n        />\n        {/* Confirm Delete Modal */}\n        <ConfirmModal\n          open={confirm.open}\n          stateName={confirm.stateName}\n          destination={confirm.name}\n          onClose={() => setConfirm({ open: false })}\n          onConfirm={confirmDelete}\n        />\n      </div>\n    </Layout>\n  );\n};\n\nexport default TravelJournal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}